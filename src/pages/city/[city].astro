---
import Layout from "@/layouts/Layout.astro";
import Weather from "@/sections/weather.astro";

// Rutas estáticas que se generarán en el build
export async function getStaticPaths() {
	return [
		{ params: { city: "Solsona" } },
		{ params: { city: "Barcelona" } },
	];
}

// Obtener ciudad desde los parámetros de la ruta
const { params } = Astro;

const cities = {
	Solsona: { lat: 41.9939, lon: 1.5171 },
	Barcelona: { lat: 41.3888, lon: 2.159 },
};

const cityData = cities[params.city];

if (!cityData) {
	throw new Error(`Ciudad no encontrada: ${params.city}`);
}
---

<Layout title="Weather App">
    <Weather city={params.city} lat={cityData.lat} lon={cityData.lon} />
</Layout>